-- Loyalty E-Mail Templates Migration
-- Erstellt HTML-E-Mail-Vorlagen f√ºr das Loyalty-System

-- Template f√ºr Punkte erhalten
INSERT INTO app_settings (setting_type, setting_key, setting_value, description, created_at, updated_at) VALUES
('email_template', 'loyalty_points_earned', '{
  "template_key": "loyalty_points_earned",
  "template_name": "Loyalty - Punkte erhalten",
  "template_type": "loyalty_points_earned",
  "subject": "üéâ Sie haben {{points}} Punkte erhalten - Brennholzk√∂nig Treueprogramm",
  "html_content": "<!DOCTYPE html><html><head><meta charset=\"utf-8\"><meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"><title>Punkte erhalten</title><style>body { font-family: Arial, sans-serif; margin: 0; padding: 0; background-color: #f5f5f5; } .container { max-width: 600px; margin: 0 auto; background-color: white; } .header { background-color: #2d5a27; color: white; padding: 30px 20px; text-align: center; } .header h1 { margin: 0; font-size: 28px; } .header p { margin: 5px 0 0 0; font-size: 16px; opacity: 0.9; } .content { padding: 40px 30px; } .points-box { background: linear-gradient(135deg, #2d5a27, #4a7c59); color: white; padding: 30px; border-radius: 12px; text-align: center; margin: 30px 0; } .points-number { font-size: 48px; font-weight: bold; margin: 10px 0; } .balance-info { background-color: #f8f9fa; padding: 20px; border-radius: 8px; margin: 20px 0; border-left: 4px solid #2d5a27; } .cta-button { display: inline-block; background-color: #2d5a27; color: white; padding: 15px 30px; text-decoration: none; border-radius: 8px; font-weight: bold; margin: 20px 0; } .footer { background-color: #f8f9fa; padding: 30px 20px; text-align: center; color: #666; border-top: 1px solid #ddd; } .footer p { margin: 5px 0; } @media (max-width: 600px) { .content { padding: 20px 15px; } .points-box { padding: 20px; } .points-number { font-size: 36px; } }</style></head><body><div class=\"container\"><div class=\"header\"><h1>üî• Brennholzk√∂nig</h1><p>Treueprogramm</p></div><div class=\"content\"><h2 style=\"color: #2d5a27; margin-top: 0;\">Hallo {{customer_name}}!</h2><div class=\"points-box\"><h3 style=\"margin: 0; font-size: 20px;\">Sie haben Punkte erhalten!</h3><div class=\"points-number\">+{{points}}</div><p style=\"margin: 0; font-size: 16px; opacity: 0.9;\">Punkte</p></div><div class=\"balance-info\"><p style=\"margin: 0; color: #2d5a27; font-weight: bold;\">Ihr neuer Kontostand: {{balance}} Punkte</p></div>{{#reason}}<div style=\"background-color: #e8f5e8; padding: 15px; border-radius: 8px; margin: 20px 0;\"><p style=\"margin: 0; color: #2d5a27;\"><strong>Grund:</strong> {{reason}}</p></div>{{/reason}}<div style=\"text-align: center;\"><a href=\"{{dashboard_url}}\" class=\"cta-button\">Mein Treueprogramm anzeigen</a></div><p style=\"color: #666; font-size: 14px; line-height: 1.6;\">Sammeln Sie weiter Punkte bei jedem Einkauf und profitieren Sie von exklusiven Vorteilen!</p></div><div class=\"footer\"><p><strong>Vielen Dank f√ºr Ihre Treue!</strong></p><p>Ihr Brennholzk√∂nig Team</p><p style=\"font-size: 12px; margin-top: 20px;\">Thorsten Vey ‚Ä¢ Frankfurter Stra√üe 3 ‚Ä¢ 36419 Buttlar</p><p style=\"font-size: 12px;\">Tel: +49 176 71085234 ‚Ä¢ info@brennholz-koenig.de</p></div></div></body></html>",
  "text_content": "Hallo {{customer_name}}!\n\nSie haben {{points}} Punkte erhalten!\n\nIhr neuer Kontostand: {{balance}} Punkte\n\n{{#reason}}Grund: {{reason}}\n\n{{/reason}}Besuchen Sie Ihr Treueprogramm: {{dashboard_url}}\n\nVielen Dank f√ºr Ihre Treue!\nIhr Brennholzk√∂nig Team",
  "variables": ["customer_name", "points", "balance", "reason", "dashboard_url"],
  "is_active": true,
  "triggers": {
    "loyalty_points_earned": true
  }
}', 'Loyalty E-Mail Template f√ºr erhaltene Punkte', NOW(), NOW()),

-- Template f√ºr Punkte eingel√∂st
('email_template', 'loyalty_points_redeemed', '{
  "template_key": "loyalty_points_redeemed",
  "template_name": "Loyalty - Punkte eingel√∂st",
  "template_type": "loyalty_points_redeemed",
  "subject": "‚úÖ Sie haben {{points}} Punkte eingel√∂st - Brennholzk√∂nig Treueprogramm",
  "html_content": "<!DOCTYPE html><html><head><meta charset=\"utf-8\"><meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"><title>Punkte eingel√∂st</title><style>body { font-family: Arial, sans-serif; margin: 0; padding: 0; background-color: #f5f5f5; } .container { max-width: 600px; margin: 0 auto; background-color: white; } .header { background-color: #2d5a27; color: white; padding: 30px 20px; text-align: center; } .header h1 { margin: 0; font-size: 28px; } .header p { margin: 5px 0 0 0; font-size: 16px; opacity: 0.9; } .content { padding: 40px 30px; } .redeemed-box { background: linear-gradient(135deg, #059669, #10b981); color: white; padding: 30px; border-radius: 12px; text-align: center; margin: 30px 0; } .points-number { font-size: 48px; font-weight: bold; margin: 10px 0; } .balance-info { background-color: #f8f9fa; padding: 20px; border-radius: 8px; margin: 20px 0; border-left: 4px solid #059669; } .cta-button { display: inline-block; background-color: #2d5a27; color: white; padding: 15px 30px; text-decoration: none; border-radius: 8px; font-weight: bold; margin: 20px 0; } .footer { background-color: #f8f9fa; padding: 30px 20px; text-align: center; color: #666; border-top: 1px solid #ddd; } .footer p { margin: 5px 0; } @media (max-width: 600px) { .content { padding: 20px 15px; } .redeemed-box { padding: 20px; } .points-number { font-size: 36px; } }</style></head><body><div class=\"container\"><div class=\"header\"><h1>üî• Brennholzk√∂nig</h1><p>Treueprogramm</p></div><div class=\"content\"><h2 style=\"color: #2d5a27; margin-top: 0;\">Hallo {{customer_name}}!</h2><div class=\"redeemed-box\"><h3 style=\"margin: 0; font-size: 20px;\">Punkte erfolgreich eingel√∂st!</h3><div class=\"points-number\">-{{points}}</div><p style=\"margin: 0; font-size: 16px; opacity: 0.9;\">Punkte</p></div><div class=\"balance-info\"><p style=\"margin: 0; color: #059669; font-weight: bold;\">Verbleibendes Guthaben: {{balance}} Punkte</p></div>{{#reason}}<div style=\"background-color: #ecfdf5; padding: 15px; border-radius: 8px; margin: 20px 0;\"><p style=\"margin: 0; color: #059669;\"><strong>Eingel√∂st f√ºr:</strong> {{reason}}</p></div>{{/reason}}<div style=\"text-align: center;\"><a href=\"{{dashboard_url}}\" class=\"cta-button\">Weitere Vorteile entdecken</a></div><p style=\"color: #666; font-size: 14px; line-height: 1.6;\">Sammeln Sie weiter Punkte und profitieren Sie von noch mehr exklusiven Vorteilen!</p></div><div class=\"footer\"><p><strong>Vielen Dank f√ºr Ihre Treue!</strong></p><p>Ihr Brennholzk√∂nig Team</p><p style=\"font-size: 12px; margin-top: 20px;\">Thorsten Vey ‚Ä¢ Frankfurter Stra√üe 3 ‚Ä¢ 36419 Buttlar</p><p style=\"font-size: 12px;\">Tel: +49 176 71085234 ‚Ä¢ info@brennholz-koenig.de</p></div></div></body></html>",
  "text_content": "Hallo {{customer_name}}!\n\nSie haben {{points}} Punkte erfolgreich eingel√∂st!\n\nVerbleibendes Guthaben: {{balance}} Punkte\n\n{{#reason}}Eingel√∂st f√ºr: {{reason}}\n\n{{/reason}}Besuchen Sie Ihr Treueprogramm: {{dashboard_url}}\n\nVielen Dank f√ºr Ihre Treue!\nIhr Brennholzk√∂nig Team",
  "variables": ["customer_name", "points", "balance", "reason", "dashboard_url"],
  "is_active": true,
  "triggers": {
    "loyalty_points_redeemed": true
  }
}', 'Loyalty E-Mail Template f√ºr eingel√∂ste Punkte', NOW(), NOW()),

-- Template f√ºr Tier-Upgrade
('email_template', 'loyalty_tier_upgrade', '{
  "template_key": "loyalty_tier_upgrade",
  "template_name": "Loyalty - Tier-Upgrade",
  "template_type": "loyalty_tier_upgrade",
  "subject": "üéâ Herzlichen Gl√ºckwunsch! Sie wurden auf {{tier}} hochgestuft",
  "html_content": "<!DOCTYPE html><html><head><meta charset=\"utf-8\"><meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"><title>Tier-Upgrade</title><style>body { font-family: Arial, sans-serif; margin: 0; padding: 0; background-color: #f5f5f5; } .container { max-width: 600px; margin: 0 auto; background-color: white; } .header { background: linear-gradient(135deg, #7c3aed, #a855f7); color: white; padding: 30px 20px; text-align: center; } .header h1 { margin: 0; font-size: 28px; } .header p { margin: 5px 0 0 0; font-size: 16px; opacity: 0.9; } .content { padding: 40px 30px; } .upgrade-box { background: linear-gradient(135deg, #7c3aed, #a855f7); color: white; padding: 40px 30px; border-radius: 12px; text-align: center; margin: 30px 0; } .tier-name { font-size: 36px; font-weight: bold; margin: 15px 0; text-transform: uppercase; letter-spacing: 2px; } .benefits-box { background-color: #f8f9fa; padding: 25px; border-radius: 8px; margin: 25px 0; border-left: 4px solid #7c3aed; } .benefits-list { list-style: none; padding: 0; margin: 15px 0; } .benefits-list li { padding: 8px 0; color: #374151; position: relative; padding-left: 25px; } .benefits-list li:before { content: \"‚úì\"; position: absolute; left: 0; color: #7c3aed; font-weight: bold; } .cta-button { display: inline-block; background: linear-gradient(135deg, #7c3aed, #a855f7); color: white; padding: 15px 30px; text-decoration: none; border-radius: 8px; font-weight: bold; margin: 20px 0; } .footer { background-color: #f8f9fa; padding: 30px 20px; text-align: center; color: #666; border-top: 1px solid #ddd; } .footer p { margin: 5px 0; } @media (max-width: 600px) { .content { padding: 20px 15px; } .upgrade-box { padding: 25px 20px; } .tier-name { font-size: 28px; } }</style></head><body><div class=\"container\"><div class=\"header\"><h1>üî• Brennholzk√∂nig</h1><p>Treueprogramm</p></div><div class=\"content\"><div style=\"text-align: center; margin-bottom: 30px;\"><h2 style=\"color: #7c3aed; margin: 0; font-size: 24px;\">üéâ Herzlichen Gl√ºckwunsch!</h2></div><div class=\"upgrade-box\"><h3 style=\"margin: 0; font-size: 18px; opacity: 0.9;\">Hallo {{customer_name}}!</h3><p style=\"margin: 10px 0; font-size: 16px;\">Sie wurden hochgestuft auf:</p><div class=\"tier-name\">{{tier}}</div><p style=\"margin: 0; font-size: 16px; opacity: 0.9;\">Status</p></div><div class=\"benefits-box\"><h4 style=\"color: #7c3aed; margin-top: 0; font-size: 18px;\">Ihre neuen {{tier}}-Vorteile:</h4><ul class=\"benefits-list\">{{#benefits}}<li>{{.}}</li>{{/benefits}}</ul></div><div style=\"text-align: center;\"><a href=\"{{dashboard_url}}\" class=\"cta-button\">Meine Vorteile entdecken</a></div><p style=\"color: #666; font-size: 14px; line-height: 1.6; text-align: center;\">Nutzen Sie Ihre neuen Vorteile und sammeln Sie weiter Punkte f√ºr noch exklusivere Belohnungen!</p></div><div class=\"footer\"><p><strong>Vielen Dank f√ºr Ihre Treue!</strong></p><p>Ihr Brennholzk√∂nig Team</p><p style=\"font-size: 12px; margin-top: 20px;\">Thorsten Vey ‚Ä¢ Frankfurter Stra√üe 3 ‚Ä¢ 36419 Buttlar</p><p style=\"font-size: 12px;\">Tel: +49 176 71085234 ‚Ä¢ info@brennholz-koenig.de</p></div></div></body></html>",
  "text_content": "üéâ Herzlichen Gl√ºckwunsch!\n\nHallo {{customer_name}}!\n\nSie wurden auf {{tier}} hochgestuft!\n\nIhre neuen {{tier}}-Vorteile:\n{{#benefits}}- {{.}}\n{{/benefits}}\n\nBesuchen Sie Ihr Treueprogramm: {{dashboard_url}}\n\nVielen Dank f√ºr Ihre Treue!\nIhr Brennholzk√∂nig Team",
  "variables": ["customer_name", "tier", "benefits", "dashboard_url"],
  "is_active": true,
  "triggers": {
    "loyalty_tier_upgrade": true
  }
}', 'Loyalty E-Mail Template f√ºr Tier-Upgrades', NOW(), NOW()),

-- Template f√ºr ablaufende Punkte
('email_template', 'loyalty_points_expiring', '{
  "template_key": "loyalty_points_expiring",
  "template_name": "Loyalty - Punkte laufen ab",
  "template_type": "loyalty_points_expiring",
  "subject": "‚ö†Ô∏è Ihre {{points}} Punkte laufen bald ab - Jetzt einl√∂sen!",
  "html_content": "<!DOCTYPE html><html><head><meta charset=\"utf-8\"><meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"><title>Punkte laufen ab</title><style>body { font-family: Arial, sans-serif; margin: 0; padding: 0; background-color: #f5f5f5; } .container { max-width: 600px; margin: 0 auto; background-color: white; } .header { background-color: #d97706; color: white; padding: 30px 20px; text-align: center; } .header h1 { margin: 0; font-size: 28px; } .header p { margin: 5px 0 0 0; font-size: 16px; opacity: 0.9; } .content { padding: 40px 30px; } .warning-box { background: linear-gradient(135deg, #d97706, #f59e0b); color: white; padding: 30px; border-radius: 12px; text-align: center; margin: 30px 0; } .points-number { font-size: 48px; font-weight: bold; margin: 10px 0; } .expiry-info { background-color: #fef3c7; padding: 20px; border-radius: 8px; margin: 20px 0; border-left: 4px solid #d97706; } .urgent-cta { display: inline-block; background-color: #dc2626; color: white; padding: 18px 35px; text-decoration: none; border-radius: 8px; font-weight: bold; margin: 25px 0; font-size: 16px; box-shadow: 0 4px 6px rgba(220, 38, 38, 0.3); } .secondary-cta { display: inline-block; background-color: #2d5a27; color: white; padding: 12px 25px; text-decoration: none; border-radius: 6px; font-weight: bold; margin: 10px 5px; } .footer { background-color: #f8f9fa; padding: 30px 20px; text-align: center; color: #666; border-top: 1px solid #ddd; } .footer p { margin: 5px 0; } @media (max-width: 600px) { .content { padding: 20px 15px; } .warning-box { padding: 20px; } .points-number { font-size: 36px; } .urgent-cta { padding: 15px 25px; font-size: 14px; } }</style></head><body><div class=\"container\"><div class=\"header\"><h1>üî• Brennholzk√∂nig</h1><p>Treueprogramm - Wichtige Mitteilung</p></div><div class=\"content\"><div style=\"background-color: #fef3c7; border-left: 4px solid #d97706; padding: 20px; margin-bottom: 20px; border-radius: 4px;\"><h2 style=\"color: #92400e; margin-top: 0; font-size: 20px;\">‚ö†Ô∏è Punkte laufen bald ab!</h2></div><h3 style=\"color: #2d5a27; margin-top: 0;\">Hallo {{customer_name}}!</h3><div class=\"warning-box\"><h3 style=\"margin: 0; font-size: 18px;\">Verpassen Sie nicht Ihre wertvollen Punkte!</h3><div class=\"points-number\">{{points}}</div><p style=\"margin: 0; font-size: 16px; opacity: 0.9;\">Punkte laufen ab</p></div><div class=\"expiry-info\"><p style=\"margin: 0; color: #92400e; font-weight: bold; font-size: 16px;\">Ablaufdatum: {{expiration_date}}</p></div><p style=\"color: #374151; font-size: 16px; line-height: 1.6;\">Ihre Punkte sind wertvoll! L√∂sen Sie sie noch heute ein, bevor sie verfallen.</p><div style=\"text-align: center; margin: 30px 0;\"><a href=\"{{dashboard_url}}\" class=\"urgent-cta\">üöÄ Jetzt Punkte einl√∂sen</a></div><div style=\"text-align: center;\"><a href=\"{{shop_url}}\" class=\"secondary-cta\">Zum Shop</a><a href=\"{{rewards_url}}\" class=\"secondary-cta\">Belohnungen ansehen</a></div><div style=\"background-color: #f3f4f6; padding: 20px; border-radius: 8px; margin: 25px 0;\"><h4 style=\"color: #374151; margin-top: 0;\">üí° Tipp:</h4><p style=\"margin: 0; color: #6b7280; font-size: 14px;\">Sammeln Sie bei Ihrem n√§chsten Einkauf neue Punkte und verl√§ngern Sie automatisch die G√ºltigkeit Ihres Guthabens!</p></div></div><div class=\"footer\"><p><strong>Verpassen Sie nicht Ihre wertvollen Punkte!</strong></p><p>Ihr Brennholzk√∂nig Team</p><p style=\"font-size: 12px; margin-top: 20px;\">Thorsten Vey ‚Ä¢ Frankfurter Stra√üe 3 ‚Ä¢ 36419 Buttlar</p><p style=\"font-size: 12px;\">Tel: +49 176 71085234 ‚Ä¢ info@brennholz-koenig.de</p></div></div></body></html>",
  "text_content": "‚ö†Ô∏è WICHTIG: Punkte laufen bald ab!\n\nHallo {{customer_name}}!\n\n{{points}} Punkte laufen am {{expiration_date}} ab.\n\nVerpassen Sie nicht Ihre wertvollen Punkte!\n\nJetzt einl√∂sen: {{dashboard_url}}\n\nZum Shop: {{shop_url}}\n\nIhr Brennholzk√∂nig Team",
  "variables": ["customer_name", "points", "expiration_date", "dashboard_url", "shop_url", "rewards_url"],
  "is_active": true,
  "triggers": {
    "loyalty_points_expiring": true
  }
}', 'Loyalty E-Mail Template f√ºr ablaufende Punkte', NOW(), NOW());