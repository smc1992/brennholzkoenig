<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Auftragsbest√§tigung {{order.number}}</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Bebas+Neue&display=swap');
    
    @page {
      size: A4;
      margin: 0;
    }
    
    @media print {
      .no-print { display: none !important; }
      
      body {
        margin: 0;
        padding: 0;
      }
      
      .container {
        margin: 0;
        padding: 20mm 15mm 28mm 15mm;
        box-shadow: none;
        width: 210mm;
        min-height: 297mm;
      }
      
      .footer {
        position: fixed !important;
        bottom: 6mm !important;
        left: 15mm !important;
        right: 15mm !important;
        margin: 0 !important;
        background: white !important;
        z-index: 1000 !important;
        box-sizing: border-box !important;
      }
    }
    
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    body {
      font-family: 'Inter', system-ui, sans-serif;
      font-size: 11pt;
      line-height: 1.4;
      color: #1a1a1a;
      background: white;
    }
    
    .container {
      max-width: 210mm;
      margin: 0 auto;
      padding: 20mm 15mm 30mm 15mm;
      background: white;
      min-height: 297mm;
    }
    
    /* Header */
    .header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 40pt;
      padding-bottom: 20pt;
      border-bottom: 2pt solid #C04020;
    }
    
    .logo-section {
      flex: 1;
    }
    
    .logo {
      max-width: 120pt;
      max-height: 60pt;
      margin-bottom: 10pt;
    }
    
    .brand-name {
      font-family: 'Bebas Neue', cursive;
      font-size: 24pt;
      font-weight: 400;
      color: #C04020;
      margin-bottom: 5pt;
      letter-spacing: 1pt;
    }
    
    .brand-tagline {
      font-size: 9pt;
      color: #666;
      font-style: italic;
    }
    
    .issuer-section {
      text-align: right;
      flex: 1;
    }
    
    .issuer-name {
      font-size: 14pt;
      font-weight: 700;
      color: #333;
      margin-bottom: 8pt;
    }
    
    .issuer-address {
      font-size: 9pt;
      color: #666;
      line-height: 1.3;
      margin-bottom: 8pt;
    }
    
    .issuer-contact {
      font-size: 9pt;
      color: #666;
      line-height: 1.3;
    }
    
    /* Title */
    .page-title {
      text-align: center;
      font-size: 28pt;
      font-weight: 700;
      color: #C04020;
      margin-bottom: 30pt;
      text-transform: uppercase;
      letter-spacing: 2pt;
    }
    
    /* Order Confirmation */
    .order-confirmation {
      margin-bottom: 40pt;
      padding: 25pt;
      background: #f8f9fa;
      border: 1pt solid #ddd;
      border-left: 4pt solid #C04020;
      border-radius: 8pt;
      font-size: 11pt;
      line-height: 1.6;
      box-shadow: 0 2pt 8pt rgba(192, 64, 32, 0.08);
    }
    
    .order-confirmation h3 {
      margin: 0 0 20pt 0;
      font-size: 14pt;
      font-weight: 700;
      color: #C04020;
      display: flex;
      align-items: center;
    }
    .icon { display: inline-block; width: 14pt; height: 14pt; margin-right: 8pt; background-repeat: no-repeat; background-size: contain; }
    .doc-icon { background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%23C04020"><path d="M6 2h9l5 5v15a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2z"/><path d="M20 7h-5V2" fill="%23ffffff" opacity="0.3"/></svg>'); }
    .truck-icon { background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%23C04020"><path d="M3 5h11v8H3z"/><path d="M14 8h4l3 3v2h-7z"/><circle cx="6" cy="17" r="2"/><circle cx="18" cy="17" r="2"/></svg>'); }
    .contact-icon { display: inline-block; width: 10pt; height: 10pt; margin-right: 6pt; background-repeat: no-repeat; background-size: contain; vertical-align: -1pt; }
    .phone-icon { background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%231A1A1A"><path d="M6.6 10.8c1.8 3.5 4.1 5.8 7.6 7.6l2.5-2.5c.3-.3.8-.4 1.2-.3 1 .3 2 .5 3 .5.6 0 1 .4 1 1v3c0 .6-.4 1-1 1C10.1 22 2 13.9 2 3c0-.6.4-1 1-1h3c.6 0 1 .4 1 1 0 1 .2 2 .5 3 .1.4 0 .9-.3 1.2l-2.6 2.6z"/></svg>'); }
    .mail-icon { background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%231A1A1A"><path d="M2 5h20v14H2z"/><path d="M2 7l10 6 10-6" fill="%23ffffff"/></svg>'); }
    .web-icon { background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%231A1A1A"><circle cx="12" cy="12" r="10"/><path d="M2 12h20M12 2c3 4 3 16 0 20M7 4c2 3 2 13 0 16M17 4c-2 3-2 13 0 16" fill="%23ffffff"/></svg>'); }
    .tax-icon { background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%231A1A1A"><path d="M4 4h16v16H4z"/><path d="M4 8h16" fill="%23ffffff"/><path d="M8 12h8v2H8z" fill="%23ffffff"/></svg>'); }
    
    .confirmation-text {
      margin-bottom: 25pt;
      line-height: 1.7;
      text-align: justify;
    }
    
    .signature-fields {
      display: flex;
      justify-content: space-between;
      margin-top: 40pt;
    }
    
    .signature-field {
      width: 45%;
      border-bottom: 1pt solid #333;
      padding-bottom: 3pt;
      text-align: center;
      font-size: 10pt;
      color: #666;
      min-height: 30pt;
    }
    
    /* Delivery Address */
    .delivery-address {
      margin-bottom: 40pt;
      padding: 25pt;
      background: #f8f9fa;
      border: 1pt solid #ddd;
      border-left: 4pt solid #C04020;
      border-radius: 8pt;
      font-size: 11pt;
      line-height: 1.6;
      box-shadow: 0 2pt 8pt rgba(192, 64, 32, 0.08);
    }
    
    .delivery-address h3 {
      margin: 0 0 20pt 0;
      font-size: 14pt;
      font-weight: 700;
      color: #C04020;
      display: flex;
      align-items: center;
    }
    
    .delivery-address h3::before { content: ''; }
    
    .delivery-zone {
      margin-top: 20pt;
      padding: 15pt;
      background: #fff;
      border: 1pt solid #ddd;
      border-radius: 6pt;
      min-height: 80pt;
      font-size: 12pt;
      line-height: 1.5;
    }
    
    .confirmation-statement {
      margin-top: 25pt;
      padding: 20pt;
      background: #fff;
      border: 1pt solid #ddd;
      border-radius: 6pt;
      text-align: center;
      font-weight: 600;
      font-size: 12pt;
    }
    
    .final-signature {
      margin-top: 40pt;
      border-bottom: 1pt solid #333;
      padding-bottom: 3pt;
      text-align: center;
      font-size: 10pt;
      color: #666;
      width: 60%;
      margin-left: auto;
      margin-right: auto;
      min-height: 30pt;
    }
    
    .totals {
      margin-top: 20pt;
      display: flex;
      justify-content: flex-end;
    }
    
    .totals-box {
      width: 200pt;
      font-size: 9pt;
      border: 1pt solid #ddd;
      border-radius: 6pt;
      overflow: hidden;
      background: #fff;
    }
    
    .totals-box table {
      width: 100%;
      border-collapse: collapse;
    }
    
    .totals-box td {
      padding: 6pt 8pt;
    }
    
    .totals-box .label {
      text-align: left;
    }
    
    .totals-box .value {
      text-align: right;
      font-weight: 600;
    }
    
    .totals-box .grand {
      border-top: 2pt solid #333;
      font-weight: 700;
      font-size: 10pt;
    }
    
    /* Footer */
    .footer {
      margin-top: 50pt;
      padding-top: 20pt;
      border-top: 1pt solid #ddd;
      font-size: 8pt;
      line-height: 1.3;
      color: #666;
      text-align: center;
    }
    
    .footer-content {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      flex-wrap: wrap;
      gap: 15pt;
    }
    
    .footer-section {
      flex: 1;
      min-width: 120pt;
    }
    
    .footer-section.left {
      text-align: left;
    }
    
    .footer-section.center {
      text-align: center;
    }
    
    .footer-section.right {
      text-align: right;
    }
    
    .footer-section strong {
      font-weight: 600;
      color: #333;
      display: block;
      margin-bottom: 2pt;
    }
    
    .footer-section p {
      margin: 0;
      line-height: 1.2;
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Header -->
    <header class="header">
      <div class="logo-section">
        {{#if company.logo_url}}
          <img src="{{company.logo_url}}" alt="{{company.name}} Logo" class="logo">
        {{else}}
          <div>
            <h1 class="brand-name">üî• BRENNHOLZK√ñNIG</h1>
            <p class="brand-tagline">Premium Brennholz direkt vom Produzenten</p>
          </div>
        {{/if}}
      </div>
      
      <div class="issuer-section">
        <div class="issuer-name">{{company.name}}</div>
        <div class="issuer-address">
          {{company.address_line1}}<br>
          {{#if company.address_line2}}{{company.address_line2}}<br>{{/if}}
          {{company.postal_code}} {{company.city}}
        </div>
        <div class="issuer-contact">
          {{#if company.phone}}<span class="contact-icon phone-icon"></span> {{company.phone}}<br>{{/if}}
          {{#if company.email}}<span class="contact-icon mail-icon"></span> {{company.email}}<br>{{/if}}
          {{#if company.website}}<span class="contact-icon web-icon"></span> {{company.website}}<br>{{/if}}
          {{#if company.tax_id}}<span class="contact-icon tax-icon"></span> USt-IdNr.: {{company.tax_id}}{{/if}}
        </div>
      </div>
    </header>
    
    <!-- Page Title -->
    <h1 class="page-title">Auftragsbest√§tigung</h1>
    
    <!-- Order Confirmation -->
    <section class="order-confirmation">
      <h3><span class="icon doc-icon"></span> Auftragsbest√§tigung:</h3>
      <div class="confirmation-text">
        Ich erteile / Wir erteilen den Auftrag f√ºr die Brennholzlieferung 
        gem√§√ü obigem Angebot. Die AGBs und Lieferbedingung frei 
        Bordsteinkante habe ich gelesen und akzeptiert. F√ºr ausdr√ºcklich 
        gew√ºnschte Lieferungen auf das Grundst√ºck √ºbernehmen wir keine 
        Haftung.
      </div>
      <div class="signature-fields">
        <div class="signature-field">Ort, Datum</div>
        <div class="signature-field">Unterschrift des Auftraggebers</div>
      </div>
    </section>
    
    <!-- Delivery Address -->
    <!-- Lieferbest√§tigung (Zone 2): nur Satz + Datum/Unterschrift -->
    <section class="delivery-address">
      <div class="confirmation-statement">
        Hiermit best√§tige ich den ordnungsgem√§√üen Zustand und Erhalt der bestellten Ware.
      </div>
      <div class="final-signature">Datum, Unterschrift</div>
    </section>
    
    <section class="totals">
      <div class="totals-box">
        <table>
          <tr>
            <td class="label">Gesamt Netto:</td>
            <td class="value">{{formatCurrency totals.subtotal}}</td>
          </tr>
          <tr>
            <td class="label">zzgl. {{totals.tax_rate}}% MwSt.:</td>
            <td class="value">{{formatCurrency totals.tax}}</td>
          </tr>
          <tr class="grand">
            <td class="label">Gesamt Brutto</td>
            <td class="value">{{formatCurrency totals.total}}</td>
          </tr>
        </table>
      </div>
    </section>
    
    <!-- Footer -->
    <footer class="footer">
      <div class="footer-content">
        <div class="footer-section left">
          <strong>{{company.name}}</strong>
          <p>{{company.address_line1}}</p>
          <p>{{company.postal_code}} {{company.city}}</p>
          {{#if company.phone}}<p>Mobil: {{company.phone}}</p>{{/if}}
          {{#if company.email}}<p>Email: {{company.email}}</p>{{/if}}
          {{#if company.website}}<p>Internet: {{company.website}}</p>{{/if}}
        </div>
        
        <div class="footer-section center">
          <strong>Bestellung</strong>
          {{#if order.number}}<p>Bestell-Nr.: {{order.number}}</p>{{/if}}
          {{#if order.date}}<p>Datum: {{order.date}}</p>{{/if}}
        </div>
        
        <div class="footer-section right">
          {{#if company.registration}}<p>Steuer-Nr.: {{company.registration}}</p>{{/if}}
          {{#if company.tax_id}}<p>USt-Ident-Nr.: {{company.tax_id}}</p>{{/if}}
        </div>
      </div>
    </footer>
  </div>
</body>
</html>
